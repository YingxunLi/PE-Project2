<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pyramid Snake Visualization</title>
    <script src="sketch.js"></script>
</head>
<body>
    <script>
        let starVertices = [];
        let pyramids = [];
        const segments = 10; // Number of pyramids
        const segmentLength = 50;
        let angle = 0;

        function setup() {
          createCanvas(800, 800, WEBGL);
          let radius1 = 20; // Outer radius for star base
          let radius2 = 10; // Inner radius for star base
          let angleStep = TWO_PI / 5;

          // Define star shape
          for (let i = 0; i < TWO_PI; i += angleStep) {
            let x1 = cos(i) * radius1;
            let y1 = sin(i) * radius1;
            starVertices.push(createVector(x1, y1, 0));

            let x2 = cos(i + angleStep / 2) * radius2;
            let y2 = sin(i + angleStep / 2) * radius2;
            starVertices.push(createVector(x2, y2, 0));
          }

          // Initialize snake as pyramids
          for (let i = 0; i < segments; i++) {
            pyramids.push({ baseCenter: createVector(-i * segmentLength, 0, 0), apex: createVector(0, 0, 80) });
          }
        }

        function drawPyramid(baseCenter, apex) {
          push();
          translate(baseCenter.x, baseCenter.y, baseCenter.z);

          // Calculate rotational angles
          let direction = p5.Vector.sub(apex, baseCenter).normalize();
          let angleX = atan2(direction.y, direction.z);
          let angleY = atan2(direction.x, direction.z);

          rotateX(angleX);
          rotateY(-angleY);

          // Draw the base
          fill(0, 0, 139); // Dark blue
          stroke(50);
          strokeWeight(2);
          beginShape();
          for (let v of starVertices) {
            vertex(v.x, v.y, v.z);
          }
          endShape(CLOSE);

          // Draw the triangular sides
          fill(173, 216, 230); // Light blue
          for (let i = 0; i < starVertices.length; i++) {
            let v1 = starVertices[i];
